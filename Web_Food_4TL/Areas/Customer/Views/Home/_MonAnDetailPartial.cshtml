@model Web_Food_4TL.Models.MonAn

<div class="modal-header">
    <h5 class="modal-title">@Model.TenMonAn</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
</div>

<div class="modal-body">
    <div class="row">
        <!-- Ảnh bên trái -->
        <div class="col-12 col-md-5 mb-3 mb-md-0 text-center">
            @if (Model.AnhMonAnh != null && Model.AnhMonAnh.Any())
            {
                <img src="/uploads/monan/@Model.AnhMonAnh.FirstOrDefault().Url" class="img-fluid rounded shadow-sm" />
            }
            else
            {
                <img src="https://placehold.co/500x600/png" class="img-fluid rounded shadow-sm" />
            }
        </div>

        <!-- Nội dung bên phải -->
        <div class="col-12 col-md-7">
            <div class="row">
                <p class="col-12 col-md-8"><strong>Mô tả:</strong> @Model.MoTa</p>
                <div class="d-flex col-12 col-md-4 justify-content-md-end">
                    <p class="mb-0"><strong>Đánh giá: </strong> <strong class="text-warning averageRating1"></strong>/5</p>
                    <img src="/img/star-svgrepo-com.svg" class="ms-1" alt="" style="width: 15px;height: 15px;">
                </div>
            </div>
            <p><strong>Giá:</strong> <span class="text-danger fw-bold">@string.Format("{0:N0} đ", Model.Gia)</span></p>
            <p><strong>Danh mục:</strong> @Model.DanhMuc.TenDanhMuc</p>

            <div class="d-flex align-items-center mt-3">
                <input type="number" id="quantity" class="form-control me-2" value="1" min="1" style="width: 80px;">
                <button class="btn btn-success" id="addToCart" data-id="@Model.Id">Thêm vào giỏ hàng</button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 p-4 mt-3" style="border-radius: 10px; background-color: #FFF;">
            <div class="row">
                <!-- Bên trái: Điểm TB + Sao -->
                <div class="col-12 col-lg-4 text-center mb-4 mb-lg-0">
                    <h3 class="text-warning mb-2">
                        <span class="averageRating1">0</span> / 5
                    </h3>
                    <div class="star-rating2 mb-2">
                        @for (var i = 1; i <= 5; i++)
                        {
                            <i class="fas fa-star saoTrungBinh" data-value="@i"></i>
                        }
                    </div>
                    <div class="mb-3">(<span id="totalReviews1">0</span> đánh giá)</div>
                </div>

                <!-- Bên phải: Thống kê sao -->
                <div class="col-12 col-lg-8">
                    <div class="row g-2">
                        <div class="col-6 col-md-2">
                            <span class="p-2 d-block border bg-light thongKeDanhGia rounded text-center">
                                Tất cả (<span id="totalReviews2">0</span>)
                            </span>
                        </div>
                        <div class="col-6 col-md-2">
                            <span class="p-2 d-block border bg-light thongKeDanhGia rounded text-center">
                                5 Sao (<span id="fiveStarCount">0</span>)
                            </span>
                        </div>
                        <div class="col-6 col-md-2">
                            <span class="p-2 d-block border bg-light thongKeDanhGia rounded text-center">
                                4 Sao (<span id="fourStarCount">0</span>)
                            </span>
                        </div>
                        <div class="col-6 col-md-2">
                            <span class="p-2 d-block border bg-light thongKeDanhGia rounded text-center">
                                3 Sao (<span id="threeStarCount">0</span>)
                            </span>
                        </div>
                        <div class="col-6 col-md-2">
                            <span class="p-2 d-block border bg-light thongKeDanhGia rounded text-center">
                                2 Sao (<span id="twoStarCount">0</span>)
                            </span>
                        </div>
                        <div class="col-6 col-md-2">
                            <span class="p-2 d-block border bg-light thongKeDanhGia rounded text-center">
                                1 Sao (<span id="oneStarCount">0</span>)
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <hr class="mt-3">

            <!-- Danh sách đánh giá -->
            <div class="scroll-contents-DanhGia mt-4" id="bodyDanhGia"></div>
        </div>
    </div>
</div>
